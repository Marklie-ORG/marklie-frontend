

<div class="d-flex flex-column">

  <div class="report-header d-flex align-center justify-between">
    <div routerLink="/dashboard" class="logo d-flex align-center">
      <a href="/dashboard">
        <img src="../../../favicon.png" alt="logo" width="40px">
      </a>
    </div>
    <p *ngIf="changesMade">Unsaved changes made</p>
    <div class="d-flex align-center justify-between width-100">
      <!-- <button (click)="isPreviewMode = !isPreviewMode" class="mr-3">
        Preview
      </button> -->
      <div class="d-flex flex-row align-center gap-3 pl-3">
        <button type="button" routerLink="/dashboard" class="nav-btn">Dashboard</button>
        <button type="button" routerLink="/scheduled-reports" class="nav-btn">Scheduled Reports</button>
        <button type="button" routerLink="/reports-database" class="nav-btn badge-container">Generated Reports</button>
      </div>
      
      <div class="d-flex flex-row align-center gap-3">
        <button class="blue ml-3" (click)="save()">Save changes</button>
        <button class="blue ml-3" (click)="openFinishReviewDialog()">Finish review</button>
      </div>
      
    </div>
  </div>

  <div style="display: grid; grid-template-columns: 80% 20%; gap: 0%;">

    <div #reportContainer class="report-container d-flex flex-column pt-3 pl-5 pr-5">

      <loom-link-editor
        [link]="loomUrlInput"
        (save)="loomUrlInput = $event; saveLoomUrl()"
      ></loom-link-editor>

      <report
        [(reportSections)]="reportSections"
        [selectedDatePresetText]="selectedDatePresetText()"
        [reportTitle]="reportTitle()"
        [headerBackgroundColor]="headerBackgroundColor()"
        [reportBackgroundColor]="reportBackgroundColor()"
        [loomLink]="loomUrlInput"
        [(clientImageUrl)]="clientImageUrl"
        [(agencyImageUrl)]="agencyImageUrl"
        [(clientImageGsUri)]="clientImageGsUri"
        [(agencyImageGsUri)]="agencyImageGsUri"
      ></report>
    </div>

    <edit-metrics
      [(reportSections)]="reportSections"
      [(reportTitle)]="reportTitle"
      [(headerBackgroundColor)]="headerBackgroundColor"
      [(reportBackgroundColor)]="reportBackgroundColor"
      (sectionFocus)="onSectionFocus($event)"
    ></edit-metrics>

  </div>

</div>
