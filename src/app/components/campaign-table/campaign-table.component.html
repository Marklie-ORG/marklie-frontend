<h1>Campaigns</h1>

@for (adAccount of adAccounts(); track adAccount.id) {
  @if (adAccount.enabled) {
    <h4 class="mb-2 mt-4">{{ adAccount.name }}</h4>

  <div class="table-container">
    <table class="campaign-table">
      <thead>
        <tr #campaignsHeaderContainer [attr.data-ad-account-id]="adAccount.id">
          <th class="non-sortable">#</th>
          <th class="non-sortable">Campaign</th>
          <ng-container *ngFor="let metric of adAccount.metrics">
            @if (metric.enabled) {
              <th class="draggable-metric-header" [attr.data-metric-name]="metric.name">
                {{metricsService.formatMetricLabel(metric.name)}}
              </th>
            }
          </ng-container>
        </tr>
      </thead>
      <tbody>
          @for (campaign of campaigns; track campaign.campaign_id; let k = $index) {
            <tr>
              <td>{{ k + 1 }}</td>
              <td>{{ campaign.campaign_name }}</td>
              @for (metric of adAccount.metrics; track metric.name) {
                @if (metric.enabled) {
                  <td>
                    {{campaign[metric.name] || '1,000'}}
                  </td>
                }
              }
            </tr>
          }
      </tbody>
    </table>
  </div>
  }
  
}
