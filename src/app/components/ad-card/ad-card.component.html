<h1>Ads</h1>

<div #adAccountsContainer>
@for (adAccount of adAccounts(); track adAccount.id) {
  @if (adAccount.enabled) {
    <div class="ad-account-item" [attr.data-adaccount-id]="adAccount.id">
      <h4 class="mb-2 mt-4">{{ adAccount.name }}</h4>

      <div class="ad-grid" >
        
        <div class="ad-card" *ngFor="let ad of ads; let i = index">
          <div class="ad-image-container cursor-pointer " (click)="openAd(ad.sourceUrl)">
            <img class="ad-media" [src]="ad.thumbnailUrl"/>
          </div>
          <div class="metrics" #adsGridContainer [attr.data-ad-account-id]="adAccount.id">
            @for (metric of adAccount.metrics; track metric.name) {
              <div class="metric" [class.enabled]="metric.enabled" [attr.data-metric-name]="metric.name" [style.display]="metric.enabled ? 'flex' : 'none'">
                <div class="metric-label">{{ metricsService.formatMetricLabel(metric.name) }}</div>
                <div class="metric-value">{{ad[metric.name] || '1,000'}}</div>
              </div>
            }
          </div>
        </div>
      
      </div>
    </div>
  }
  
}
</div>

