<div class="feature-suggestion" *ngIf="!loading() && suggestion() as s">
	<div class="topbar">
		<button type="button" class="back" routerLink="/suggested-features">‚Üê Back to suggestions</button>
	</div>
	<div class="header">
		<h2>{{ s.title }}</h2>
		<button type="button" class="vote" [class.active]="s.userHasUpvoted" (click)="toggleUpvote()">
			<fa-icon [icon]="faChevronUp"></fa-icon>
			<span>{{ s.upvotes }}</span>
		</button>
	</div>
	<p class="desc">{{ s.description }}</p>

	<div class="comments">
		<h3><fa-icon [icon]="faCommentDots"></fa-icon> Comments ({{ comments().length }})</h3>
		<div class="list">
			<div class="comment" *ngFor="let c of comments()">
				<div class="head"><strong>{{ c.user.firstName || '' }} {{ c.user.lastName || '' }}</strong><span>{{ c.createdAt | date:'short' }}</span></div>
				<p>{{ c.comment }}</p>
			</div>
		</div>
		<div class="add">
			<input type="text" placeholder="Write a comment" [ngModel]="commentDraft()" (ngModelChange)="commentDraft.set($event)" (keydown.enter)="addComment()" />
			<button type="button" (click)="addComment()">Post</button>
		</div>
	</div>
</div> 