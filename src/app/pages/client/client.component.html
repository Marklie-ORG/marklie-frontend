<div class="container">

    <div style="display: grid; grid-template-columns: 59% 39%; gap: 2%; height: 100%;" class="mt-4">

        <div
        class="block"
        style="background: var(--block-color); border-radius: 20px; box-shadow: var(--box-shadow)">
          <div class="d-flex align-center justify-between mb-4 pl-4 pt-4 pr-4 pb-3">
              <h3>Reports</h3>
              <button class="blue" (click)="scheduleReport()" >
                  New report
              </button>
          </div>

          <div class="table">

            <div class="header d-flex align-center justify-center d-flex pb-3 pl-4 pr-4">
              <div style="width: 20%; color: #333333cb !important;">Report name</div>
              <div style="width: 20%; color: #333333cb !important;" class="d-flex align-center justify-center">Frequency</div>
              <div style="width: 20%; color: #333333cb !important;" class="d-flex align-center justify-center">Last activity</div>
              <div style="width: 20%; color: #333333cb !important;" class="d-flex align-center justify-center">Next activity</div>
              <div style="width: 20%; color: #333333cb !important;" class="d-flex align-center justify-center">Status</div>
            </div>

            <div class="list">
              <div
              *ngFor="let scheduleOption of scheduleOptions"
              (click)="onEditReport(scheduleOption.uuid)"
              class="row d-flex align-center justify-center pt-3 pb-3 pl-4 pr-4">
                <div style="width: 20%;">{{scheduleOption.reportName}}</div>
                <div style="width: 20%;" class="text-center">{{scheduleOption.frequency}}</div>
                <div style="width: 20%;">{{scheduleOption.lastRun}}</div>
                <div style="width: 20%;" class="d-flex align-center justify-center">{{scheduleOption.nextRun}}</div>
                <div style="width: 20%;" class="d-flex align-center justify-center">{{scheduleOption.isActive ? "Active" : "Inactive"}}</div>
              </div>
            </div>
          </div>

          <div class="d-flex align-center justify-center mt-4" *ngIf="!scheduleOptionsLoading && scheduleOptions.length === 0">
            <button class="blue" (click)="scheduleReport()" >
                Add your first report for {{client?.name}}!
            </button>
          </div>

        </div>

      <div class="d-flex flex-column gap-4">
        <div class="block">
          <div class="block-header">
            <h3 *ngIf="client" class="block-header__title">{{ client.name }}</h3>

            <button class="block-header__button blue" (click)="onEditClient()">
              Client Settings
            </button>
          </div>
        </div>

        <activity-table 
        [logs]="activityLogs"
        ></activity-table>

        <database-table [reports]="generatedReports"></database-table>
      </div>
    </div>
</div>
