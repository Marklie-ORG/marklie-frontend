<div style="display: grid; grid-template-columns: 40% 60%;">
    <div>
      <div class="d-flex align-center gap-2">
        <img width="25px" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Gmail_icon_%282020%29.svg/2560px-Gmail_icon_%282020%29.svg.png" alt="Email icon">
        <p>Email</p>
      </div>
    </div>
    <div>
      <div
      *ngFor="let email of clientEmails(); let i = index; trackBy: trackByIndex"
      class="email-row d-flex gap-2 pt-2 pb-2 ">
        <input
          id="email{{i}}"
          type="email"
          placeholder="Enter email address"
          [ngModel]="email"
          [ngModelOptions]="{standalone: true}"
          (ngModelChange)="onEmailChange(i, $event)"
          class="text"
          >
        <button type="button" (click)="removeEmail(i)">Remove</button>

      </div>

      <button type="button" (click)="addEmail()">
        Add client's email
      </button>

    </div>
  </div>

  <div style="display: grid; grid-template-columns: 40% 60%;  border-top: 1px solid rgba(128, 128, 128, 0.2392156863);" class="mt-3 pt-3">
    <div>
      <div class="d-flex align-center gap-2">
        <img width="25px" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/WhatsApp_icon.png/640px-WhatsApp_icon.png" alt="Whatsapp icon">
        <p>WhatsApp</p>
      </div>
    </div>

    <div>
      <div
      *ngFor="let phoneNumber of clientPhoneNumbers(); let i = index; trackBy: trackByIndex"
      class="email-row d-flex gap-2 pt-2 pb-2 ">
        <app-phone-input
          [inputId]="'phoneNumber'+i"
          [placeholder]="'Enter phone number'"
          [ngModel]="phoneNumber"
          [ngModelOptions]="{standalone: true}"
          (ngModelChange)="onPhoneNumberChange(i, $event)"
        ></app-phone-input>
        <button type="button" (click)="removePhoneNumber(i)">Remove</button>
      </div>

      <button type="button" (click)="addPhoneNumber()">
        Add client's phone number
      </button>
    </div>
    
  </div>


  @if (clientUuid()) {
    <div style="display: grid; grid-template-columns: 40% 60%; border-top: 1px solid rgba(128, 128, 128, 0.2392156863);" class="mt-3  pt-3">
      <div>
        <div class="d-flex align-center gap-2">
          <img width="25px" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Slack_icon_2019.svg/2048px-Slack_icon_2019.svg.png" alt="Slack icon">
          <p>Slack</p>
        </div>
      </div>
      <div class="d-flex flex-column gap-2">
        <!-- @if (currentWorkspace) {
          <div class="d-flex flex-row gap-2 align-items-center">
            Current Selected Slack Workspace: <img src="{{currentWorkspace.image}}" width="20px" height="20px" style="border-radius: 4px"> {{currentWorkspace.name}}
          </div>
        } -->
        <!-- @if (selectedConversationId) {
          <div class="d-flex flex-row gap-2 align-items-center">
            Current Selected Slack Conversation: {{selectedConversationId}}
          </div>
        } -->
        <!-- @if (currentWorkspace && !selectedConversationId) {
          <div>
            Select a conversation to send reports to.
          </div>
        } -->
        @if (conversations) {
          <label for="conversation-select">Conversation</label>
          <select 
            class="conversation-select" 
            [(ngModel)]="selectedConversationId" 
            [ngModelOptions]="{standalone: true}"
            (ngModelChange)="onConversationChange($event)">
              <!-- @if (!selectedConversationId) { -->
                <option [ngValue]="null">Select a conversation</option>
              <!-- } -->
              <option *ngFor="let conversation of conversations.channels" [ngValue]="conversation.id">
                  # {{conversation.name}}
              </option>
              <option *ngFor="let conversation of conversations.ims" [ngValue]="conversation.id">
                  <img src="{{conversation.image}}" width="20px" height="20px" style="border-radius: 50%;"> {{conversation.name}}
              </option>
          </select>
        }
        @if (!(isSlackWorkspaceConnected$ | async)) {
          <button type="button" class="" (click)="connectSlack()">
              Connect Slack
          </button>
        }
        @if (workspaces && workspaces.length > 0) {
          <label for="workspace-select">Workspace</label>
          <select 
            class="workspace-select" 
            [(ngModel)]="currentWorkspaceTokenId" 
            [ngModelOptions]="{standalone: true}"
            (ngModelChange)="onWorkspaceTokenIdChange($event)">
            @if (!currentWorkspace) {
              <option [ngValue]="null">Select previously connected workspace</option>
            }
            <option *ngFor="let workspace of workspaces" [ngValue]="workspace.tokenId">
              {{workspace.clientName}}: {{workspace.name}}
            </option>
          </select>
        }
        @if (isSlackWorkspaceConnected$ | async) {
          <button type="button" class="" (click)="connectSlack()">
              Connect a new slack workspace
          </button>
        }
      </div>
  
    </div>
  }
  