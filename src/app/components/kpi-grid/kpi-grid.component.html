

<h1>Main KPIs</h1>

<div #adAccountsContainer>
  @for (adAccount of adAccounts(); track adAccount.id) {

    @if (adAccount.enabled) {
      <div class="ad-account-item" [attr.data-adaccount-id]="adAccount.id">
        <div class="ad-account-header mb-2 mt-4">
          <h4 class="">{{ adAccount.name }}</h4>
          @if (!isViewMode() && adAccounts().length > 1) {
            <metrics-actions-menu
            [adAccounts]="adAccounts()"
            [sourceAdAccountId]="'' + adAccount.id"
            (adAccountsChange)="adAccounts.set($event)"
            ></metrics-actions-menu>
          }
        </div>
        

        <div class="kpi-grid-container" #kpiGridContainer [attr.data-adaccount-id]="adAccount.id" [style.display]="isReorderingAdAccounts() ? 'none' : 'grid'">
          @for (metric of adAccount.metrics; track metric.name) {

            <div class="kpi-card"
            [attr.data-metric-name]="metric.name"
            [class.disabled]="!metric.enabled"
            [style.display]="metric.enabled ? 'block' : 'none'"
            [style.cursor]="isViewMode() ? 'auto' : 'grab'"
            >
              <div class="kpi-label">{{ metricsService.getFormattedMetricName(metric.name) }}</div>
              <div class="kpi-value">
                {{ metric.currency ? ((metric.value | number:'1.0-2') + ' ' + metric.currency) : metric.value }}{{ metric.symbol || '' }}
              </div>
            </div>
      
          }
        </div>
      </div>
    }
    
    
  }
</div>




