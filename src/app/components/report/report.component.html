
<div class="report-container" [style.background-color]="reportBackgroundColor()">

  <div [style.background-color]="headerBackgroundColor()">
    <report-header
    [reportTitle]="reportTitle"
    [selectedDatePresetText]="selectedDatePresetText"
    [dateRangeText]="dateRangeText()"
    [(clientImageUrl)]="clientImageUrl"
    [(clientImageGsUri)]="clientImageGsUri"
    [(agencyImageUrl)]="agencyImageUrl"
    [(agencyImageGsUri)]="agencyImageGsUri"
    [isViewMode]="isViewMode()"
    ></report-header>
  </div>

  

  @if (loomLink()) {
    <hr>
    <div class="p-5 d-flex justify-center">
      <div style="width: 60%;">
        <loom-embed [loomLink]="loomLink()"></loom-embed>
      </div>
    </div>
  }

  <hr>
  <div class="d-flex flex-column gap-5 p-5">
    @for (section of orderedSections(); track section.key) {
      @if (section.enabled) {
        <div class="report-section" [attr.id]="'section-' + section.key">
          @switch (section.key) {
            @case ('kpis') {
              <kpi-grid
              [adAccounts]="kpisSection().adAccounts"
              (adAccountsChange)="onKpiAdAccountsChange($event)"
              [isViewMode]="isViewMode()"
              ></kpi-grid>
            }
            @case ('graphs') {
              <charts
              [adAccounts]="graphsSectionAdAccounts"
              (adAccountsChange)="onGraphsAdAccountsChange($event)"
              [isViewMode]="isViewMode()"
              ></charts>
            }
            @case ('ads') {
              <ad-card
              [adAccounts]="adsSection().adAccounts"
              (adAccountsChange)="onAdsAdAccountsChange($event)"
              [isViewMode]="isViewMode()"
              [isReviewMode]="isReviewMode()"
              ></ad-card>
            }
            @case ('campaigns') {
              <campaign-table
              [(adAccounts)]="campaignsSection().adAccounts"
              [isViewMode]="isViewMode()"
              ></campaign-table>
            }
          }
        </div>
      }
    }
  </div>


</div>
